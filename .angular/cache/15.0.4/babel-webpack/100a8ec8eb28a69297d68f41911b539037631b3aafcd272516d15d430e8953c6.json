{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { tap, map, Subject, filter, share, withLatestFrom, startWith } from 'rxjs';\nlet FruitComponent = class FruitComponent {\n  constructor(fb, fruitService) {\n    this.fb = fb;\n    this.fruitService = fruitService;\n    this.fruitForm = this.fb.group({\n      name: ['', Validators.required],\n      fruit: ['', Validators.minLength(6)],\n      date: ['']\n    });\n    this.submitSubject = new Subject();\n    // prettier-ignore\n    this.validFruit$ = this.fruitForm.statusChanges.pipe(map(status => status === 'VALID'), filter(Boolean));\n    // prettier-ignore\n    this.fruit$ = this.fruitForm.get('fruit').valueChanges.pipe(startWith(\"pomegranate\"));\n    //prettier-ignore\n    this.fruitSubmit$ = this.submitSubject.pipe(withLatestFrom(this.fruit$, (_, fruit) => fruit), tap({\n      next: n => console.log(Date.now(), n),\n      error: e => console.error(`uh oh something went wrong`, e),\n      complete: () => console.error('combinatation completed')\n    }), share());\n  }\n  ngOnInit() {\n    this.fruitSubmit$.subscribe(this.fruitService.fruitSubject);\n  }\n};\nFruitComponent = __decorate([Component({\n  selector: 'app-fruit',\n  templateUrl: './fruit.component.html',\n  styleUrls: ['./fruit.component.css']\n})], FruitComponent);\nexport { FruitComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}